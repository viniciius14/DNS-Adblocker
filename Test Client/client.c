#include "../Headers/dns_utils.h"



int main(void){

    unsigned char reply[] = {
        0xc0, 0x32, 0x81, 0x80, 0x00,
        0x01, 0x00, 0x01, 0x00, 0x00,
        0x00, 0x01, 0x06, 0x67, 0x6f,
        0x6f, 0x67, 0x6c, 0x65, 0x03,
        0x63, 0x6f, 0x6d, 0x00, 0x00, 
        0x01, 0x00, 0x01, 0xc0, 0x0c, 
        0x00, 0x01, 0x00, 0x01, 0x00, 
        0x00, 0x00, 0x73, 0x00, 0x04, 
        0x8e, 0xfa, 0xb8, 0x0e, 0x00, 
        0x00, 0x29, 0x02, 0x00, 0x00, 
        0x00, 0x00, 0x00, 0x00, 0x00
    };



    unsigned char new[] = {
        0x4e, 0x93, 0x01, 0x00, 0x00, 0x01, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x67,
        0x6f, 0x6f, 0x00, 0x10, 0x67, 0x6c, 0x65,
        0x03, 0x63, 0x6f, 0x6d, 0x00, 0x00, 0x01, 0x00, 0x01
    };


    if(dns_send(new, sizeof(new), "53", "127.0.0.1") != 0)
    {
        exit(1);
    }




    unsigned char buffer[100];
    if(await_receive(buffer, "53") != 0)
    {
        exit(1);
    } 

}

